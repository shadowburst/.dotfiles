# vim:ft=conf

set autoquit true
set drawbox true
set findlen 0
set icons true
set ifs "\n"
set incsearch true
set mouse true
set number true
set relativenumber true
set scrolloff 10
set shell bash
set shellopts '-eu'

# ctpv previewer
set previewer ctpv
set cleaner ctpvclear
&ctpv -s $id
&ctpvquit $id

cmd open ${{
    case $(file --mime-type -Lb $f) in
        text/*) $EDITOR $fx;;
        image/*) swayimg $fx;;
        video/*) mpv $f;;
        *) for f in $fx; do xdg-open $f > /dev/null 2> /dev/null & done;;
    esac
}}

cmd extract ${{
  case "$f" in
      *.zip) unzip "$f" ;;
      *.tar.gz) tar -xzvf "$f" ;;
      *.tar.bz2) tar -xjvf "$f" ;;
      *.tar) tar -xvf "$f" ;;
      *) echo "Unsupported format" ;;
  esac
}}

map a push %touch<space>
map A push %mkdir<space>

map DD %trash-put $fx 
map DE %trash-empty -f

map g. cd ~/.dotfiles
map g/ cd /
map gd cd ~/Downloads
map gD cd ~/Documents
map gE cd /etc
map gp cd ~/Public
map gP cd ~/Pictures
map gt cd ~/.local/share/Trash/files
map gU cd /usr
map gv cd ~/Videos
